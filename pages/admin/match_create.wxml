<view class="container">
  <view class="card">
    <view class="title">📢 插入对决</view>
    
    <!-- 只有在【不是】从总控台进来时，才显示选择赛事 -->
    <view class="input-item" wx:if="{{!isFixedTour}}">
      <text>所属赛事:</text>
      <picker mode="selector" range="{{tourNames}}" bindchange="bindTourPicker">
        <view class="select-box {{tourName ? '' : 'placeholder'}}">
          {{tourName || '点击选择 (可选)'}}
        </view>
      </picker>
    </view>

    <!-- 只有在【不是】从总控台进来时，才显示轮次输入，否则自动填“附加赛” -->
    <view class="input-item" wx:if="{{!isFixedTour}}">
      <text>轮次/阶段:</text>
      <input class="input" placeholder="如: 决赛" bindinput="bindRound" value="{{roundName}}" />
    </view>
    
    <!-- 如果是固定赛事，显示一行提示 -->
    <view wx:if="{{isFixedTour}}" style="margin-bottom:15px; color:#666; font-size:14px;">
      当前赛事：<text style="color:#07c160; font-weight:bold;">{{tourName}}</text>
    </view>
  </view>

  <!-- 核心：只选两个人 -->
  <view class="card">
    <view class="title">选择对阵双方</view>
    
    <picker mode="selector" range="{{playerNames}}" bindchange="bindP1">
      <view class="select-box">{{p1_name || '👤 点击选择选手 A'}}</view>
    </picker>

    <view class="vs">VS</view>

    <picker mode="selector" range="{{playerNames}}" bindchange="bindP2">
      <view class="select-box">{{p2_name || '👤 点击选择选手 B'}}</view>
    </picker>
  </view>

  <button class="btn-main" bindtap="createMatch">✅ 确认发布</button>
</view>